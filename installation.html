

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>1. Downloading and Installation &#8212; xraylarch 0.9.67 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/larchdoc.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. Getting Started with Larch" href="getting_started.html" />
    <link rel="prev" title="Larch" href="index.html" />

<script async src="https://badge.dimensions.ai/badge.js" charset="utf-8"></script>

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({ "TeX": {Macros: {AA : "{\\unicode{x212B}}"}}, "HTML-CSS": {scale: 90}});
</script>


  </head><body>
<div style=" color: #c5daba;  text-align: left; height:65px; padding: 0px">
<table border=0>
  <tr>
    <td width=20%>
	<a href="index.html">
	 <img src="_static/larchcones.png" height=50px alt="larchcones"/></a>
    </td>
    <td width=75% padding=0>
      <font size=+2>
	<a href="index.html" style="color:#772211">
	  Larch: Data Analysis Tools for X-ray Spectroscopy
	</a>
      </font>
    </td>
   </tr></table>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="getting_started.html" title="2. Getting Started with Larch"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Larch"
             accesskey="P">previous</a> |</li>
   <li>[<a href="index.html"> Larch</a>|</li>
   <li><a href="getting_started.html"> Getting Started</a>|</li>
   <li><a href="xafs.html">XAFS Analysis</a>|</li>
   <li><a href="xray.html">X-ray Databases</a>|</li>
   <li><a href="xrf.html">XRF Analysis</a>|</li>

        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1. </span>Downloading and Installation</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">1. Downloading and Installation</a><ul>
<li><a class="reference internal" href="#installing-from-a-binary-installers">1.1. Installing from a Binary installers</a><ul>
<li><a class="reference internal" href="#windows-notes">1.1.1. Windows Notes</a></li>
<li><a class="reference internal" href="#macos-notes">1.1.2. MacOS Notes</a></li>
<li><a class="reference internal" href="#linux-notes">1.1.3. Linux Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installing-with-the-getlarch-sh-and-getlarch-bat-scripts">1.2. Installing with the <cite>GetLarch.sh</cite> and <cite>GetLarch.bat</cite> scripts</a></li>
<li><a class="reference internal" href="#installing-into-an-existing-anaconda-python-environment">1.3. Installing into an existing Anaconda Python environment</a><ul>
<li><a class="reference internal" href="#notes-on-anaconda-and-on-python-versions">1.3.1. Notes on Anaconda and on Python Versions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#updating-a-previous-installation">1.4. Updating a previous installation</a></li>
<li><a class="reference internal" href="#installing-the-development-version">1.5. Installing the development version</a></li>
<li><a class="reference internal" href="#making-desktop-shortcuts-to-link-to-the-applications">1.6. Making Desktop shortcuts to Link to the Applications</a></li>
<li><a class="reference internal" href="#larch-for-developers-source-installation">1.7. Larch for developers (source installation)</a><ul>
<li><a class="reference internal" href="#optional-python-packages">1.7.1. Optional Python Packages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-help">1.8. Getting Help</a></li>
<li><a class="reference internal" href="#install-exa">1.9. Docs and Examples</a></li>
<li><a class="reference internal" href="#citing-larch">1.10. Citing Larch</a></li>
<li><a class="reference internal" href="#funding-and-support">1.11. Funding and Support</a></li>
<li><a class="reference internal" href="#acknowledgements">1.12. Acknowledgements</a></li>
<li><a class="reference internal" href="#license">1.13. License</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">Larch</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="getting_started.html"
                          title="next chapter"><span class="section-number">2. </span>Getting Started with Larch</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/installation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="downloading-and-installation">
<span id="install-chapter"></span><h1><span class="section-number">1. </span>Downloading and Installation<a class="headerlink" href="#downloading-and-installation" title="Permalink to this heading">¶</a></h1>
<p>The latest release version of Larch is 0.9.67.</p>
<p>Larch is in active and continuing development.  The goal is to release
versions every six months, but we don’t use a strict schedule, and
typically release more often than that.</p>
<p>There are three ways to install Larch. Which of these is right for you will
depend on your operating system and your familiarity with the Python
programming language and environment:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><a class="reference internal" href="#install-binary"><span class="std std-ref">Installing from a Binary installers</span></a>.  Use these to get started with XAS Viewer or
other Larch GUI applications, or if you are not familiar with Python.</p></li>
<li><p><a class="reference internal" href="#install-scripts"><span class="std std-ref">Installing with the GetLarch.sh and GetLarch.bat scripts</span></a>. Use these if your comfortable with the
command-line or want to customize your installation.</p></li>
<li><p><a class="reference internal" href="#install-conda"><span class="std std-ref">Installing into an existing Anaconda Python environment</span></a>. Use this if you already have an Anaconda Python
environment that you want to use.</p></li>
</ol>
</div></blockquote>
<p>There should not be any difference in the resulting code or packages when
using these different methods.  One is not “more right” or even “more
preferred”.  In short, use the Binary installer unless you know that you
want to install into an existing Python environment.  If that doesn’t work,
try the installation script.</p>
<section id="installing-from-a-binary-installers">
<span id="install-binary"></span><h2><span class="section-number">1.1. </span>Installing from a Binary installers<a class="headerlink" href="#installing-from-a-binary-installers" title="Permalink to this heading">¶</a></h2>
<p id="installers-table"><strong>Table of Larch binary installers</strong></p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operating System</p></th>
<th class="head"><p>Binary Installer File</p></th>
<th class="head"><p>Installation Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Windows (64 bit)</p></td>
<td><p><a class="reference external" href="https://millenia.cars.aps.anl.gov/xraylarch/downloads/xraylarch-2022-04-Windows-x86_64.exe">Larch for Windows</a></p></td>
<td><p><a class="reference internal" href="#install-win"><span class="std std-ref">Notes</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>Mac OSX (64 bit)</p></td>
<td><p><a class="reference external" href="https://millenia.cars.aps.anl.gov/xraylarch/downloads/xraylarch-2022-04-MacOSX-x86_64.pkg">Larch for MacOSX</a></p></td>
<td><p><a class="reference internal" href="#install-mac"><span class="std std-ref">Notes</span></a></p></td>
</tr>
<tr class="row-even"><td><p>Linux (64 bit)</p></td>
<td><p><a class="reference external" href="https://millenia.cars.aps.anl.gov/xraylarch/downloads/xraylarch-2022-04-Linux-x86_64.sh">Larch for Linux</a></p></td>
<td><p><a class="reference internal" href="#install-lin"><span class="std std-ref">Notes</span></a></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Binary installers for Windows, Mac OSX, and Linux, are available at
<a class="reference external" href="https://millenia.cars.aps.anl.gov/xraylarch/downloads">Larch Binary Installers</a>.  These are fairly large (400 to 600 Mb files)
self-contained files that will install a complete Anaconda Python
environment with all of libraries needed by Larch.  Normally, this
installation will create a folder called <cite>xraylarch</cite> in your home folder –
see platform-specific notes below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There can be no spaces in your username or the path in which Larch is
installed.</p>
<p>If you have a space in your Windows username, you can probably install
to <code class="docutils literal notranslate"><span class="pre">C:\Users\Public</span></code> - that has worked for some people!</p>
</div>
<p>Installing with these installer programs should write to files only to
folders owned by the user account. It should not require administrative
privilege and should not interfere with any thing else on your system (such
as system Python).</p>
<p>These installers will also create a folder called <cite>Larch</cite> on your desktop
that contains links (or shortcuts or Apps) to many of the Larch GUI
applications listed in <a class="reference internal" href="index.html#larch-app-table"><span class="std std-ref">Table of Larch Applications and Programs</span></a>.  This includes tools for X-ray Absorption spectroscopy,
X-ray fluorescence spectroscopy, and working with X-ray diffraction images.</p>
<section id="windows-notes">
<span id="install-win"></span><h3><span class="section-number">1.1.1. </span>Windows Notes<a class="headerlink" href="#windows-notes" title="Permalink to this heading">¶</a></h3>
<p>For Windows, download the <a class="reference external" href="https://millenia.cars.aps.anl.gov/xraylarch/downloads/xraylarch-2022-04-Windows-x86_64.exe">Larch for Windows</a> binary installer above and
run it to install Larch.  This will be installed to
<code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;YourName&gt;\xraylarch</span></code> for most individual Windows installations
or to <code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;YourName&gt;\AppData\Local\xraylarch</span></code> if your machine is
part of a Windows Workgroup or Domain. As mentioned above, if your user
name has a space in it, you will probably need to install to
<code class="docutils literal notranslate"><span class="pre">C:\Users\Public</span></code>.</p>
<p>Alternatively you can download the <a class="reference external" href="https://raw.githubusercontent.com/xraypy/xraylarch/master/installers/GetLarch.bat">GetLarch.bat</a> script, and run that by double-clicking
on it. This will download, install, and configure the Larch package, with a result that
is nearly identical to the binary installer.</p>
</section>
<section id="macos-notes">
<span id="install-mac"></span><h3><span class="section-number">1.1.2. </span>MacOS Notes<a class="headerlink" href="#macos-notes" title="Permalink to this heading">¶</a></h3>
<p>For Mac OS, download the <a class="reference external" href="https://millenia.cars.aps.anl.gov/xraylarch/downloads/xraylarch-2022-04-MacOSX-x86_64.pkg">Larch for MacOSX</a> package installer above and click it to
install Larch.  There are two important notes:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With MacOS 10.15 (Catalina), Apple will not install non-signed 3rd party packages by default.
You may need to go into General Settings part of the <strong>Security &amp; Privacy</strong> section of <strong>System
Preferences</strong> and explicitly allow this package to be installed. You probably will be prompted for
an Administrative password.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You need to explicitly click on “Install only for me” during the installation process.  If you
get prompted for an Administrative password by the installer, go back and explicitly choose
“Install only for me”.</p>
</div>
<p>Alternatively you can download the <a class="reference external" href="https://raw.githubusercontent.com/xraypy/xraylarch/master/installers/GetLarch.sh">GetLarch.sh</a> script, and run that in a Terminal
session (Applications-&gt;Utilities-&gt;Terminal). This will download, install, and configure
the Larch package, with a result that is nearly identical to the binary installer.  If you
run into any problems with permissions or administrative privileges or “unauthorized
application” with the package installer, running this installer script actually avoids all
of those issues since your user account will simply be running the commands to write files
to your home directory.</p>
</section>
<section id="linux-notes">
<span id="install-lin"></span><h3><span class="section-number">1.1.3. </span>Linux Notes<a class="headerlink" href="#linux-notes" title="Permalink to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There have been reports of the binary installation not working well on
all Linux systems.  We recommend using GetLarch.sh on Linux</p>
</div>
<p>For Linux, download the <a class="reference external" href="https://millenia.cars.aps.anl.gov/xraylarch/downloads/xraylarch-2022-04-Linux-x86_64.sh">Larch for Linux</a> shell installer file, then open a Terminal, use <cite>cd</cite> to
move to the download folder (typically <cite>$HOME/Downloads</cite>) and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~&gt;</span> <span class="n">bash</span> <span class="o">./</span><span class="n">xraylarch</span><span class="o">-</span><span class="mi">2022</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="n">Linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Desktop shortcuts as <code class="docutils literal notranslate"><span class="pre">.desktop</span></code> files will be created on all Linux platforms, but whether these
actually appear on your desktop depends on the Windowing system used:  they will appear on the
desktop with KDE and many other systems, but not with Gnome.  Clickable icons should also show up
in the Applications selection of the “Start Menu” or Applications list.</p>
<p>Alternatively you can download the <a class="reference external" href="https://raw.githubusercontent.com/xraypy/xraylarch/master/installers/GetLarch.sh">GetLarch.sh</a> script, and run that in a Terminal
session. This will download, install, and configure the Larch package, with a result that
is nearly identical to the binary installer.</p>
<p>Larch uses a relatively large number of Python packages (<strong>dependencies</strong>),
and these also evolve.  We try keep up with the latest versions of these
packages, but changes in those sometimes complicate the installation of
Larch.  We also try to keep these installation instructions up-to-date, but
strategies we use may change (slowly, we hope). Your feedback, bug reports,
and patience are greatly appreciated.</p>
</section>
</section>
<section id="installing-with-the-getlarch-sh-and-getlarch-bat-scripts">
<span id="install-scripts"></span><h2><span class="section-number">1.2. </span>Installing with the <cite>GetLarch.sh</cite> and <cite>GetLarch.bat</cite> scripts<a class="headerlink" href="#installing-with-the-getlarch-sh-and-getlarch-bat-scripts" title="Permalink to this heading">¶</a></h2>
<p>This method is recommended for those who are relatively comfortable using a
command-line, and is helpful for debugging cases where the binary installer
has failed.  The approach here is basically to run a script that follows
the steps that the binary installer should follow, but is likely to give
more useful error messages if something goes wrong.  On Linux and MacOS,
there are also command-line options.</p>
<p>To install with this method, download and execute one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://raw.githubusercontent.com/xraypy/xraylarch/master/installers/GetLarch.sh">GetLarch.sh</a> for Linux and Mac OSX</p></li>
<li><p><a class="reference external" href="https://raw.githubusercontent.com/xraypy/xraylarch/master/installers/GetLarch.bat">GetLarch.bat</a> for Windows</p></li>
</ul>
</div></blockquote>
<p>Open a Shell or Terminal, find the location of this script and run that.
On Windows, that would be launching the <cite>cmd</cite> program, and doing something
like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="o">&lt;</span><span class="n">YOURNAME</span><span class="o">&gt;</span>\<span class="n">Downloads</span>
<span class="n">GetLarch</span>
</pre></div>
</div>
<p>On MacOS on Linux, open a Terminal (from Applications -&gt; Utilities on
MacOS), and then type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Downloads</span>
<span class="n">sh</span> <span class="n">GetLarch</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>If this script fails, report it to the <a class="reference external" href="https://github.com/xraypy/xraylarch/issues">Larch Github Issues</a> (including
the error trace and the <cite>GetLarch.log</cite> file).</p>
<p>The scripts will download and install <cite>Miniforge Python</cite> which uses Anaconda
Python and the <cite>conda-forge</cite> channel as the basis of an installation that will
be essentially identical to the environment installed by the binary installers,
that is, the whole environment is stored in a folder called <cite>xraylarch</cite> in your
home folder. In case of problems, simply remove this folder to clean the
installation.</p>
<p>You can also read these scripts and modify them for your needs (or maybe suggest ways
we could maintain that for others to use too).</p>
</section>
<section id="installing-into-an-existing-anaconda-python-environment">
<span id="install-conda"></span><h2><span class="section-number">1.3. </span>Installing into an existing Anaconda Python environment<a class="headerlink" href="#installing-into-an-existing-anaconda-python-environment" title="Permalink to this heading">¶</a></h2>
<p>The following procedure is recommended for those who are familiar with <a class="reference external" href="https://www.continuum.io/">Anaconda
Python</a> / <a class="reference external" href="https://conda.io">Conda</a> and have already installed it in their system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some packages that Larch uses are not currently (January 2022) handled
by the standard Python package manager <a class="reference external" href="https://pypi.org">Pip</a>.  For this reason, we use
a <a class="reference external" href="https://conda.io">Conda</a> environment and “conda forge” for installing them.  These
packages include:</p>
<ul class="simple">
<li><p><cite>pymatgen</cite>: needed for handling CIF files and running FEFF calculations.</p></li>
<li><p><cite>wxpython</cite>: needed for all plotting, graphics and GUI applications.</p></li>
<li><p><cite>tomopy</cite>: needed for reconstructing X-ray fluorescence tomography.</p></li>
<li><p><cite>python.app</cite>: needed (from conda-forge) for Anaconda-based Python on MacOS.</p></li>
<li><p><cite>epicsapps</cite>: applications using the Epics control system.</p></li>
</ul>
<p>Most of Larch functionality can be used as a library without these
packages installed.</p>
</div>
<p>Within a shell:</p>
<ol class="arabic simple">
<li><p>activate your conda environment (called <cite>base</cite> by default) and update it:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate
conda<span class="w"> </span>update<span class="w"> </span>-y<span class="w"> </span>conda<span class="w"> </span>python<span class="w"> </span>pip
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>(optional/expert)</strong> create a dedicated environment for Larch and activate it:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-y<span class="w"> </span>--name<span class="w"> </span>xraylarch<span class="w"> </span><span class="nv">python</span><span class="o">=</span>&gt;3.9.10
conda<span class="w"> </span>activate<span class="w"> </span>xraylarch
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>install main dependencies:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="s2">&quot;numpy=&gt;1.20&quot;</span><span class="w"> </span><span class="s2">&quot;scipy=&gt;1.6&quot;</span><span class="w"> </span><span class="s2">&quot;matplotlib=&gt;3.0&quot;</span><span class="w"> </span>scikit-learn<span class="w"> </span>pandas
conda<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>wxpython<span class="w"> </span>pymatgen<span class="w"> </span>tomopy<span class="w"> </span>pycifrw
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>install Larch (latest release):</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>xraylarch
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>if anything of the above fails, report it to the <a class="reference external" href="https://github.com/xraypy/xraylarch/issues">Larch Github Issues</a></p></li>
</ol>
<p>Putting that all together:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-y<span class="w"> </span>--name<span class="w"> </span>xraylarch<span class="w"> </span><span class="nv">python</span><span class="o">=</span>&gt;3.9.10
conda<span class="w"> </span>activate<span class="w"> </span>xraylarch
conda<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="s2">&quot;numpy=&gt;1.20&quot;</span><span class="w"> </span><span class="s2">&quot;scipy=&gt;1.6&quot;</span><span class="w"> </span><span class="s2">&quot;matplotlib=&gt;3.0&quot;</span><span class="w"> </span>scikit-learn<span class="w"> </span>pandas
conda<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>wxpython<span class="w"> </span>pymatgen<span class="w"> </span>tomopy<span class="w"> </span>pycifrw
pip<span class="w"> </span>install<span class="w"> </span>xraylarch
larch<span class="w"> </span>-m
</pre></div>
</div>
<section id="notes-on-anaconda-and-on-python-versions">
<h3><span class="section-number">1.3.1. </span>Notes on Anaconda and on Python Versions<a class="headerlink" href="#notes-on-anaconda-and-on-python-versions" title="Permalink to this heading">¶</a></h3>
<p>By default, Anaconda Python installs into your own home folder (on Windows,
this will be the <cite>APPDATA</cite> location, which is typically something like
<code class="docutils literal notranslate"><span class="pre">C:\\Users\&lt;YourName&gt;\Anaconda3</span></code> or
<code class="docutils literal notranslate"><span class="pre">C:\\Users\&lt;YourName&gt;\AppData\Local\Anaconda3</span></code>).  As with the single-file
installers below, installing Anaconda Python does not require extra
permissions to install, upgrade, or remove components.  Anaconda includes a
robust package manager called <em>conda</em> that makes it easy to update the
packages it manages, including Larch. You can start by installing the
latest version of Anaconda Python from the <a class="reference external" href="https://www.continuum.io/downloads">Anaconda Downloads</a> site, or
by downloading and installing Miniconda from <cite>Miniconda Downloads</cite> as a
starting distribution.</p>
<p>Python 3.9 is recommended, and using Python 3.8 is also supported.  Testing
of basic functionality with Python 3.10 does work, but at this writing
(June, 2022) only “bleeding edge” versions of wxPython support Python 3.10
and we cannot recommend using Python 3.10 for most users (such as those who
would expect GUIs to work).  We no longer test with Python 3.7 or earlier:
Python 3.7 should still work, Python 3.6 and earlier will probably not
work.</p>
</section>
</section>
<section id="updating-a-previous-installation">
<h2><span class="section-number">1.4. </span>Updating a previous installation<a class="headerlink" href="#updating-a-previous-installation" title="Permalink to this heading">¶</a></h2>
<p>Updating xraylarch with <cite>conda</cite> is no longer supported.  to update
xraylarch, use <cite>pip</cite>, even when using Anaconda Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">xraylarch</span>
</pre></div>
</div>
</section>
<section id="installing-the-development-version">
<h2><span class="section-number">1.5. </span>Installing the development version<a class="headerlink" href="#installing-the-development-version" title="Permalink to this heading">¶</a></h2>
<p>For the brave, a nightly build of the latest development version can be downloaded and installed with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>https://millenia.cars.aps.anl.gov/xraylarch/downloads/xraylarch-latest-py3-none-any.whl
</pre></div>
</div>
<p>We try hard to keep this “working”, but as this is an automated snapshot it
might catch the development in the middle of trying to fix something
tricky.</p>
</section>
<section id="making-desktop-shortcuts-to-link-to-the-applications">
<h2><span class="section-number">1.6. </span>Making Desktop shortcuts to Link to the Applications<a class="headerlink" href="#making-desktop-shortcuts-to-link-to-the-applications" title="Permalink to this heading">¶</a></h2>
<p>To make a <cite>Larch</cite> folder on your desktop with shortcuts (Windows or Linux) or
Applications (MacOS) for the main Larch applications, you can then type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span> <span class="o">-</span><span class="n">m</span>
</pre></div>
</div>
<p>If that complains that it does not find <cite>larch</cite>, you may have to explicitly
give the path to Python and/or Larch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$HOME/xraylarch/bin/larch -m
</pre></div>
</div>
<p>from Linux or MacOSX or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">APPDATA</span><span class="o">%</span>\\<span class="n">Local</span>\\<span class="n">xraylarch</span>\<span class="n">Scripts</span>\<span class="n">larch</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">m</span>
</pre></div>
</div>
<p>from Windows.</p>
</section>
<section id="larch-for-developers-source-installation">
<h2><span class="section-number">1.7. </span>Larch for developers (source installation)<a class="headerlink" href="#larch-for-developers-source-installation" title="Permalink to this heading">¶</a></h2>
<p>For developers, Larch is an open-source project, with active development
happening at the <a class="reference external" href="https://github.com/xraypy/xraylarch">Larch Repository (github.com)</a>.  There, you will find
the latest source code and pages for submit bug reports.</p>
<p>To get started, we recommend following the installation instructions for or
ref:<cite>install-binary</cite>, ref:<cite>install-script</cite>, or ref:<cite>install-conda</cite>.  That
gives you a base starting Python environment that we can all be pretty sure
is working.  With that in place, to install <cite>Larch</cite> from source, you can clone the source repository with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">xraypy</span><span class="o">/</span><span class="n">xraylarch</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>and then install with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>This use of <cite>pip</cite> will install any requirements and Larch itself, but those
should have been installed already when you installed.  Depending on your
platform and version of Python you are installing to, you may need elevated
permissions as from <cite>sudo</cite> to install Larch to a system folder.</p>
<section id="optional-python-packages">
<h3><span class="section-number">1.7.1. </span>Optional Python Packages<a class="headerlink" href="#optional-python-packages" title="Permalink to this heading">¶</a></h3>
<p>While most of the packages required for Larch will be installed
automatically (and are listed in the <cite>requirements.txt</cite> file in the source
tree), there are a few packages that are useful for some functionality but
somewhat less easy to have as a hard dependency (usually because they are
not readily available on PyPI for all platforms).  These optional packages
are listed in the table below.  Note that most of these will be
installed with Larch whether you install from a binary installer,
with <cite>conda install xraylarch</cite>, with <cite>pip install xraylarch</cite>, or with
<cite>python setup.py install</cite></p>
</section>
</section>
<section id="getting-help">
<h2><span class="section-number">1.8. </span>Getting Help<a class="headerlink" href="#getting-help" title="Permalink to this heading">¶</a></h2>
<p>For questions about using or installing Larch, please use the <a class="reference external" href="https://millenia.cars.aps.anl.gov/mailman/listinfo/ifeffit/">Ifeffit Mailing List</a>.</p>
<p>For reporting bugs or working with the development process, please submit an issue at the <a class="reference external" href="https://github.com/xraypy/xraylarch">Larch Github Pages</a>.</p>
</section>
<section id="install-exa">
<span id="id1"></span><h2><span class="section-number">1.9. </span>Docs and Examples<a class="headerlink" href="#install-exa" title="Permalink to this heading">¶</a></h2>
<p>The source kit includes sources for documentation in the <cite>docs</cite> folder
and several examples (including all those shown in this documentation)
in the <cite>examples</cite> folder.</p>
<p>These are also available separately in the zip file at <a class="reference external" href="https://millenia.cars.aps.anl.gov/xraylarch/downloads/xraylarch-2022-04_docs-examples.zip">Docs and Examples</a>
that contains a <cite>doc</cite> folder with this full documentation, and an
<cite>examples</cite> folder with all of the Larch examples.</p>
</section>
<section id="citing-larch">
<h2><span class="section-number">1.10. </span>Citing Larch<a class="headerlink" href="#citing-larch" title="Permalink to this heading">¶</a></h2>
<p>Currently, the best citation for Larch is M. Newville, <em>Larch: An Analysis
Package For XAFS And Related Spectroscopies</em>. Journal of Physics:
Conference Series, 430:012007 (2013).  <span id="id2">[<a class="reference internal" href="bibliography.html#id2" title="M. Newville. Larch: An Analysis Package For XAFS And Related Spectroscopies. Journal of Physics: Conference Series, 430:012007, 2013. doi:10.1088/1742-6596/430/1/012007.">Newville (2013)</a>]</span></p>
<span class="__dimensions_badge_embed__"
      data-doi="10.1088/1742-6596/430/1/012007"
      data-style="large_rectangle">
</span></section>
<section id="funding-and-support">
<h2><span class="section-number">1.11. </span>Funding and Support<a class="headerlink" href="#funding-and-support" title="Permalink to this heading">¶</a></h2>
<p>Larch development at the GeoScoilEnviroCARS sector of Center for Advanced
Radiation Sources at the University of Chicago has been supported by the US
National Science Foundation - Earth Sciences (EAR-1128799), and Department
of Energy GeoSciences (DE-FG02-94ER14466).  In addition, funding
specifically for Larch was granted by the National Science Foundation -
Advanced CyberInfrastructure (ACI-1450468).</p>
</section>
<section id="acknowledgements">
<h2><span class="section-number">1.12. </span>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this heading">¶</a></h2>
<p>Larch was mostly written by and is maintained by Matt Newville
&lt;<a class="reference external" href="mailto:newville&#37;&#52;&#48;cars&#46;uchicago&#46;edu">newville<span>&#64;</span>cars<span>&#46;</span>uchicago<span>&#46;</span>edu</a>&gt;.  Bruce Ravel has an incalculable influence on
the design and implementation of this code and has provided countless fixes
for serious problems in design and execution in the early stages.  More
importantly, Larch would simply not exist without the long and fruitful
collaboration we’ve enjoyed.  Margaret Koker wrote most of the X-ray
diffraction analysis code, and much of the advanced functionality of the
GSECARS XRF Map Viewer.  Mauro Rovezzi has provided the spec-data reading
interface and the RIXS viewer.  Tom Trainor had a very strong influence on
the original design of Larch, and helped with the initial version of the
python implementation.  Yong Choi wrote the code for X-ray standing wave
and reflectivity analysis and graciously allowed it to be included and
modified for Larch.  Tony Lanzirotti and Steve Sutton have provided
wonderful and patient feedback on many parts of Larch, especially for XANES
processing and testing of the XAS Viewer GUI.</p>
<p>Because Larch began as a rewrite of the Ifeffit XAFS Analysis Package, it
also references and builds on quite a bit of code developed for XAFS over
many years at the University of Chicago and the University of Washington.
The existence of the code and a great deal of its initial design therefore
owes a great thanks to Edward Stern, Yizhak Yacoby, Peter Livens, Steve
Zabinsky, and John Rehr.  More specifically, code written by Steve Zabinsky
and John Rehr for the manipulation of results from FEFF and for the
calculation of thermal disorder parameters for XAFS are included in Larch
with little modification.  Both Feff6l and Feff8l, the product of many man
years of effort by the Feff group led by John Rehr, are included in Larch.
A great many people have provided excellent bug reports, feedback, in depth
conversations, and suggestions for making Ifeffit better, including on the
ifeffit mailing list.  Many of these contributions have found their way
into Larch.</p>
<p>Larch uses X-ray scattering factors and cross-sections fro the <a class="reference external" href="https://xraypy.github.io/XrayDB/">xraydb</a>
library.  This uses code to store and read the X-ray Scattering data from
the Elam Tables was modified from code originally written by
Darren S. Dale.  Refined values for anomalous scattering factors there have
been provided directly by Christopher T. Chantler.  Further details of the
origin of much of the tabularized X-ray data is given in
<a class="reference internal" href="xray.html#xraydb-chapter"><span class="std std-ref">X-ray Databases</span></a>.</p>
<p>As Larch depends on the fantastic scientific librarie written and
maintained in python, especially the numpy, scipy, and matplotlib, the
entire scientific python community deserves a hearty thanks.  In
particular, Larch uses the <a class="reference external" href="https://lmfit.github.io/lmfit-py/">lmfit</a> library, which began as part of Larch
but was spun off into a standalone, general purpose fitting library that
became useful for application areas other than XAFS, and has benefited
greatly from numerous collaborators and added many features that Larch, in
turn, has been able to depend on.</p>
</section>
<section id="license">
<h2><span class="section-number">1.13. </span>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h2>
<p>Except where explicitly noted in the individual files, the code,
documentation, and all material associated with Larch are distributed under
the BSD License:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BSD</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">CLAUSE</span> <span class="n">LICENSE</span>

<span class="n">Copyright</span><span class="p">,</span> <span class="n">Licensing</span><span class="p">,</span> <span class="ow">and</span> <span class="n">Re</span><span class="o">-</span><span class="n">distribution</span>
<span class="o">-----------------------------------------</span>

<span class="n">Unless</span> <span class="n">otherwise</span> <span class="n">stated</span><span class="p">,</span> <span class="nb">all</span> <span class="n">files</span> <span class="n">included</span> <span class="n">here</span> <span class="n">are</span> <span class="n">copyrighted</span> <span class="ow">and</span>
<span class="n">distributed</span> <span class="n">under</span> <span class="n">the</span> <span class="n">following</span> <span class="n">license</span><span class="p">:</span>

<span class="n">Copyright</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">2022</span> <span class="n">Matthew</span> <span class="n">Newville</span><span class="p">,</span> <span class="n">The</span> <span class="n">University</span> <span class="n">of</span> <span class="n">Chicago</span>
<span class="n">All</span> <span class="n">rights</span> <span class="n">reserved</span><span class="o">.</span>

<span class="n">Redistribution</span> <span class="ow">and</span> <span class="n">use</span> <span class="ow">in</span> <span class="n">source</span> <span class="ow">and</span> <span class="n">binary</span> <span class="n">forms</span><span class="p">,</span> <span class="k">with</span> <span class="ow">or</span> <span class="n">without</span>
<span class="n">modification</span><span class="p">,</span> <span class="n">are</span> <span class="n">permitted</span> <span class="n">provided</span> <span class="n">that</span> <span class="n">the</span> <span class="n">following</span> <span class="n">conditions</span> <span class="n">are</span> <span class="n">met</span><span class="p">:</span>

<span class="o">*</span> <span class="n">Redistributions</span> <span class="n">of</span> <span class="n">source</span> <span class="n">code</span> <span class="n">must</span> <span class="n">retain</span> <span class="n">the</span> <span class="n">above</span> <span class="n">copyright</span> <span class="n">notice</span><span class="p">,</span> <span class="n">this</span>
  <span class="nb">list</span> <span class="n">of</span> <span class="n">conditions</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">following</span> <span class="n">disclaimer</span><span class="o">.</span>

<span class="o">*</span> <span class="n">Redistributions</span> <span class="ow">in</span> <span class="n">binary</span> <span class="n">form</span> <span class="n">must</span> <span class="n">reproduce</span> <span class="n">the</span> <span class="n">above</span> <span class="n">copyright</span> <span class="n">notice</span><span class="p">,</span>
  <span class="n">this</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">conditions</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">following</span> <span class="n">disclaimer</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">documentation</span>
  <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">other</span> <span class="n">materials</span> <span class="n">provided</span> <span class="k">with</span> <span class="n">the</span> <span class="n">distribution</span><span class="o">.</span>

<span class="n">THIS</span> <span class="n">SOFTWARE</span> <span class="n">IS</span> <span class="n">PROVIDED</span> <span class="n">BY</span> <span class="n">THE</span> <span class="n">COPYRIGHT</span> <span class="n">HOLDERS</span> <span class="n">AND</span> <span class="n">CONTRIBUTORS</span> <span class="s2">&quot;AS IS&quot;</span>
<span class="n">AND</span> <span class="n">ANY</span> <span class="n">EXPRESS</span> <span class="n">OR</span> <span class="n">IMPLIED</span> <span class="n">WARRANTIES</span><span class="p">,</span> <span class="n">INCLUDING</span><span class="p">,</span> <span class="n">BUT</span> <span class="n">NOT</span> <span class="n">LIMITED</span> <span class="n">TO</span><span class="p">,</span> <span class="n">THE</span>
<span class="n">IMPLIED</span> <span class="n">WARRANTIES</span> <span class="n">OF</span> <span class="n">MERCHANTABILITY</span> <span class="n">AND</span> <span class="n">FITNESS</span> <span class="n">FOR</span> <span class="n">A</span> <span class="n">PARTICULAR</span> <span class="n">PURPOSE</span> <span class="n">ARE</span>
<span class="n">DISCLAIMED</span><span class="o">.</span> <span class="n">IN</span> <span class="n">NO</span> <span class="n">EVENT</span> <span class="n">SHALL</span> <span class="n">THE</span> <span class="n">COPYRIGHT</span> <span class="n">HOLDER</span> <span class="n">OR</span> <span class="n">CONTRIBUTORS</span> <span class="n">BE</span> <span class="n">LIABLE</span>
<span class="n">FOR</span> <span class="n">ANY</span> <span class="n">DIRECT</span><span class="p">,</span> <span class="n">INDIRECT</span><span class="p">,</span> <span class="n">INCIDENTAL</span><span class="p">,</span> <span class="n">SPECIAL</span><span class="p">,</span> <span class="n">EXEMPLARY</span><span class="p">,</span> <span class="n">OR</span> <span class="n">CONSEQUENTIAL</span>
<span class="n">DAMAGES</span> <span class="p">(</span><span class="n">INCLUDING</span><span class="p">,</span> <span class="n">BUT</span> <span class="n">NOT</span> <span class="n">LIMITED</span> <span class="n">TO</span><span class="p">,</span> <span class="n">PROCUREMENT</span> <span class="n">OF</span> <span class="n">SUBSTITUTE</span> <span class="n">GOODS</span> <span class="n">OR</span>
<span class="n">SERVICES</span><span class="p">;</span> <span class="n">LOSS</span> <span class="n">OF</span> <span class="n">USE</span><span class="p">,</span> <span class="n">DATA</span><span class="p">,</span> <span class="n">OR</span> <span class="n">PROFITS</span><span class="p">;</span> <span class="n">OR</span> <span class="n">BUSINESS</span> <span class="n">INTERRUPTION</span><span class="p">)</span> <span class="n">HOWEVER</span>
<span class="n">CAUSED</span> <span class="n">AND</span> <span class="n">ON</span> <span class="n">ANY</span> <span class="n">THEORY</span> <span class="n">OF</span> <span class="n">LIABILITY</span><span class="p">,</span> <span class="n">WHETHER</span> <span class="n">IN</span> <span class="n">CONTRACT</span><span class="p">,</span> <span class="n">STRICT</span> <span class="n">LIABILITY</span><span class="p">,</span>
<span class="n">OR</span> <span class="n">TORT</span> <span class="p">(</span><span class="n">INCLUDING</span> <span class="n">NEGLIGENCE</span> <span class="n">OR</span> <span class="n">OTHERWISE</span><span class="p">)</span> <span class="n">ARISING</span> <span class="n">IN</span> <span class="n">ANY</span> <span class="n">WAY</span> <span class="n">OUT</span> <span class="n">OF</span> <span class="n">THE</span> <span class="n">USE</span>
<span class="n">OF</span> <span class="n">THIS</span> <span class="n">SOFTWARE</span><span class="p">,</span> <span class="n">EVEN</span> <span class="n">IF</span> <span class="n">ADVISED</span> <span class="n">OF</span> <span class="n">THE</span> <span class="n">POSSIBILITY</span> <span class="n">OF</span> <span class="n">SUCH</span> <span class="n">DAMAGE</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="getting_started.html" title="2. Getting Started with Larch"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Larch"
             >previous</a> |</li>
   <li>[<a href="index.html"> Larch</a>|</li>
   <li><a href="getting_started.html"> Getting Started</a>|</li>
   <li><a href="xafs.html">XAFS Analysis</a>|</li>
   <li><a href="xray.html">X-ray Databases</a>|</li>
   <li><a href="xrf.html">XRF Analysis</a>|</li>

        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1. </span>Downloading and Installation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Matthew Newville, The University of Chicago, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>